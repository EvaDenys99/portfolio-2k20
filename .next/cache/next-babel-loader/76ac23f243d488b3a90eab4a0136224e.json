{"ast":null,"code":"async function fetchAPI(query, {\n  variables\n} = {}) {\n  const res = await fetch(`${\"https://portfolio-backend-strapi.herokuapp.com\"}/graphql`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      query,\n      variables\n    })\n  });\n  const json = await res.json();\n\n  if (json.errors) {\n    console.error(json.errors);\n    throw new Error(\"Failed to fetch API\");\n  }\n\n  return json.data;\n}\n\nexport async function getProjects() {\n  const data = await fetchAPI(`query Projects {\n        projects(sort: \"creationDate:desc\") {\n          id\n          title\n          creationDate\n          headImage {\n            url\n          }\n          categories {\n            id\n            name\n          }\n        }\n      }`);\n  return data.projects;\n}\nexport async function getProject(id) {\n  const data = await fetchAPI(`query Projects($id: ID!) {\n        project(id: $id) {\n          id\n          title\n          bio\n          creationDate\n          headImage {\n            url\n            caption\n          }\n          images {\n            url\n            caption\n          }\n          vids {\n            url\n            caption\n          }\n          categories {\n            id\n            name\n          }\n          team\n          client\n          tools\n          link\n          briefing\n          goal\n          download {\n            url\n            name\n          }\n        }\n      }`, {\n    variables: {\n      id\n    }\n  });\n  return data.project;\n}\nexport async function getArticles() {\n  const data = await fetchAPI(`query Blogs {\n        blogs(sort: \"creationdate:desc\") {\n          id\n          title\n          creationdate\n          description\n          headImage {\n            url\n          }\n          categories {\n            id\n            name\n          }\n        }\n      }`);\n  return data.blogs;\n}\nexport async function getArticle(id) {\n  const data = await fetchAPI(`query Blogs($id: ID!) {\n        blog(id: $id) {\n          id\n          title\n          content\n          creationdate\n          headImage {\n            url\n            caption\n          }\n          images {\n            url\n            caption\n          }\n          videos {\n            url\n            caption\n          }\n          categories {\n            id\n            name\n          }\n          createdBy\n          description\n        }\n      }`, {\n    variables: {\n      id\n    }\n  });\n  return data.blog;\n}\nexport async function getCategories() {\n  const data = await fetchAPI(`query Categories {\n      categories {\n        id\n        name\n      }\n    }`);\n  return data.categories;\n}\nexport async function getCategoryProjects(id) {\n  const data = await fetchAPI(`query Category($id: ID!) {\n        category(id: $id) {\n          name\n          projects(sort: \"creationDate:desc\") {\n            id\n            title\n            creationDate\n            headImage {\n              url\n            }\n            categories {\n              id\n              name\n            }\n          }\n        }\n      }`, {\n    variables: {\n      id\n    }\n  });\n  return data.category.projects;\n}\nexport async function getCategoryArticles(id) {\n  const data = await fetchAPI(`query Category($id: ID!) {\n        category(id: $id) {\n          name\n          blogs(sort: \"creationdate:desc\") {\n            id\n            title\n            creationdate\n            description\n            headImage {\n              url\n            }\n            categories {\n              id\n              name\n            }\n          }\n        }\n      }`, {\n    variables: {\n      id\n    }\n  });\n  return data.category.blogs;\n}","map":{"version":3,"sources":["/Users/evadenys/Desktop/portfolio/development/frontend/lib/api.js"],"names":["fetchAPI","query","variables","res","fetch","method","headers","body","JSON","stringify","json","errors","console","error","Error","data","getProjects","projects","getProject","id","project","getArticles","blogs","getArticle","blog","getCategories","categories","getCategoryProjects","category","getCategoryArticles"],"mappings":"AAAA,eAAeA,QAAf,CAAwBC,KAAxB,EAA+B;AAAEC,EAAAA;AAAF,IAAgB,EAA/C,EAAmD;AACjD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CACpB,GAAE,gDAAiD,UAD/B,EAErB;AACEC,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFX;AAKEC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBR,MAAAA,KADmB;AAEnBC,MAAAA;AAFmB,KAAf;AALR,GAFqB,CAAvB;AAcA,QAAMQ,IAAI,GAAG,MAAMP,GAAG,CAACO,IAAJ,EAAnB;;AACA,MAAIA,IAAI,CAACC,MAAT,EAAiB;AACfC,IAAAA,OAAO,CAACC,KAAR,CAAcH,IAAI,CAACC,MAAnB;AACA,UAAM,IAAIG,KAAJ,CAAU,qBAAV,CAAN;AACD;;AAED,SAAOJ,IAAI,CAACK,IAAZ;AACD;;AAED,OAAO,eAAeC,WAAf,GAA6B;AAClC,QAAMD,IAAI,GAAG,MAAMf,QAAQ,CAAE;;;;;;;;;;;;;QAAF,CAA3B;AAcA,SAAOe,IAAI,CAACE,QAAZ;AACD;AAED,OAAO,eAAeC,UAAf,CAA0BC,EAA1B,EAA8B;AACnC,QAAMJ,IAAI,GAAG,MAAMf,QAAQ,CACxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QADwB,EAmCzB;AAAEE,IAAAA,SAAS,EAAE;AAAEiB,MAAAA;AAAF;AAAb,GAnCyB,CAA3B;AAqCA,SAAOJ,IAAI,CAACK,OAAZ;AACD;AAED,OAAO,eAAeC,WAAf,GAA6B;AAClC,QAAMN,IAAI,GAAG,MAAMf,QAAQ,CAAE;;;;;;;;;;;;;;QAAF,CAA3B;AAeA,SAAOe,IAAI,CAACO,KAAZ;AACD;AAED,OAAO,eAAeC,UAAf,CAA0BJ,EAA1B,EAA8B;AACnC,QAAMJ,IAAI,GAAG,MAAMf,QAAQ,CACxB;;;;;;;;;;;;;;;;;;;;;;;;;QADwB,EA2BzB;AAAEE,IAAAA,SAAS,EAAE;AAAEiB,MAAAA;AAAF;AAAb,GA3ByB,CAA3B;AA6BA,SAAOJ,IAAI,CAACS,IAAZ;AACD;AAED,OAAO,eAAeC,aAAf,GAA+B;AACpC,QAAMV,IAAI,GAAG,MAAMf,QAAQ,CAAE;;;;;MAAF,CAA3B;AAMA,SAAOe,IAAI,CAACW,UAAZ;AACD;AAED,OAAO,eAAeC,mBAAf,CAAmCR,EAAnC,EAAuC;AAC5C,QAAMJ,IAAI,GAAG,MAAMf,QAAQ,CACxB;;;;;;;;;;;;;;;;QADwB,EAkBzB;AAAEE,IAAAA,SAAS,EAAE;AAAEiB,MAAAA;AAAF;AAAb,GAlByB,CAA3B;AAoBA,SAAOJ,IAAI,CAACa,QAAL,CAAcX,QAArB;AACD;AAED,OAAO,eAAeY,mBAAf,CAAmCV,EAAnC,EAAuC;AAC5C,QAAMJ,IAAI,GAAG,MAAMf,QAAQ,CACxB;;;;;;;;;;;;;;;;;QADwB,EAmBzB;AAAEE,IAAAA,SAAS,EAAE;AAAEiB,MAAAA;AAAF;AAAb,GAnByB,CAA3B;AAqBA,SAAOJ,IAAI,CAACa,QAAL,CAAcN,KAArB;AACD","sourcesContent":["async function fetchAPI(query, { variables } = {}) {\n  const res = await fetch(\n    `${\"https://portfolio-backend-strapi.herokuapp.com\"}/graphql`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        query,\n        variables\n      })\n    }\n  );\n\n  const json = await res.json();\n  if (json.errors) {\n    console.error(json.errors);\n    throw new Error(\"Failed to fetch API\");\n  }\n\n  return json.data;\n}\n\nexport async function getProjects() {\n  const data = await fetchAPI(`query Projects {\n        projects(sort: \"creationDate:desc\") {\n          id\n          title\n          creationDate\n          headImage {\n            url\n          }\n          categories {\n            id\n            name\n          }\n        }\n      }`);\n  return data.projects;\n}\n\nexport async function getProject(id) {\n  const data = await fetchAPI(\n    `query Projects($id: ID!) {\n        project(id: $id) {\n          id\n          title\n          bio\n          creationDate\n          headImage {\n            url\n            caption\n          }\n          images {\n            url\n            caption\n          }\n          vids {\n            url\n            caption\n          }\n          categories {\n            id\n            name\n          }\n          team\n          client\n          tools\n          link\n          briefing\n          goal\n          download {\n            url\n            name\n          }\n        }\n      }`,\n    { variables: { id } }\n  );\n  return data.project;\n}\n\nexport async function getArticles() {\n  const data = await fetchAPI(`query Blogs {\n        blogs(sort: \"creationdate:desc\") {\n          id\n          title\n          creationdate\n          description\n          headImage {\n            url\n          }\n          categories {\n            id\n            name\n          }\n        }\n      }`);\n  return data.blogs;\n}\n\nexport async function getArticle(id) {\n  const data = await fetchAPI(\n    `query Blogs($id: ID!) {\n        blog(id: $id) {\n          id\n          title\n          content\n          creationdate\n          headImage {\n            url\n            caption\n          }\n          images {\n            url\n            caption\n          }\n          videos {\n            url\n            caption\n          }\n          categories {\n            id\n            name\n          }\n          createdBy\n          description\n        }\n      }`,\n    { variables: { id } }\n  );\n  return data.blog;\n}\n\nexport async function getCategories() {\n  const data = await fetchAPI(`query Categories {\n      categories {\n        id\n        name\n      }\n    }`);\n  return data.categories;\n}\n\nexport async function getCategoryProjects(id) {\n  const data = await fetchAPI(\n    `query Category($id: ID!) {\n        category(id: $id) {\n          name\n          projects(sort: \"creationDate:desc\") {\n            id\n            title\n            creationDate\n            headImage {\n              url\n            }\n            categories {\n              id\n              name\n            }\n          }\n        }\n      }`,\n    { variables: { id } }\n  );\n  return data.category.projects;\n}\n\nexport async function getCategoryArticles(id) {\n  const data = await fetchAPI(\n    `query Category($id: ID!) {\n        category(id: $id) {\n          name\n          blogs(sort: \"creationdate:desc\") {\n            id\n            title\n            creationdate\n            description\n            headImage {\n              url\n            }\n            categories {\n              id\n              name\n            }\n          }\n        }\n      }`,\n    { variables: { id } }\n  );\n  return data.category.blogs;\n}\n"]},"metadata":{},"sourceType":"module"}